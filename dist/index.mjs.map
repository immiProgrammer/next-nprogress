{"version":3,"sources":["../src/components/Link.tsx","../src/utils/shouldTriggerEventStart.ts","../src/components/ProgressBar.tsx","../src/hooks/useRouter.ts"],"sourcesContent":["'use client';\nimport { LinkProps as NextLinkProps } from 'next/link';\nimport NextLink from 'next/link';\nimport React, { Suspense } from 'react';\nimport { shouldTriggerProgressStart } from '../utils/shouldTriggerEventStart';\nimport nProgress from 'nprogress';\n\ntype LinkProps = NextLinkProps & { children: React.ReactNode } & React.RefAttributes<HTMLAnchorElement> & React.AnchorHTMLAttributes<HTMLAnchorElement>;\n\nfunction LinkFallback(props: LinkProps) {\n    return (\n        <NextLink {...props}>\n            {props.children}\n        </NextLink>\n    )\n}\n\nexport default function Link(props: LinkProps) {\n    return (\n        <Suspense fallback={\n            <LinkFallback {...props} />\n        }>\n            <NextLink {...props} onClick={\n                (event) => {\n                    if (shouldTriggerProgressStart(props.href, event)) nProgress.start();\n                    if (props.onClick) props.onClick(event);\n                }\n            }>\n                {props.children}\n            </NextLink>\n        </Suspense>\n    )\n};","import { UrlObject } from \"url\";\n\nfunction isModifiedEvent(event: React.MouseEvent): boolean {\n    const eventTarget = event.currentTarget as HTMLAnchorElement | SVGAElement;\n    const target = eventTarget.getAttribute(\"target\");\n    return (\n      (target && target !== \"_self\") ||\n      event.metaKey ||\n      event.ctrlKey ||\n      event.shiftKey ||\n      event.altKey || // triggers resource download\n      (event.nativeEvent && event.nativeEvent.button === 1)\n    );\n}\n\nexport const shouldTriggerProgressStart = (\n    href: string | UrlObject,\n    event?: React.MouseEvent<HTMLAnchorElement, MouseEvent>\n): boolean => {\n    const current = window.location;\n    const target = new URL(href.toString(), window.location.href);\n    if (event && isModifiedEvent(event)) return false;\n    if (current.origin !== target.origin) return false;\n    if (current.pathname === target.pathname && current.search === target.search) return false;\n    return true;\n};","'use client';\nimport React from \"react\";\nimport { usePathname, useSearchParams } from \"next/navigation\";\nimport nProgress, { NProgressOptions } from \"nprogress\";\nimport { memo, useEffect } from \"react\";\n\ntype ProgressBarProps = {\n    color: string;\n    height: string,\n    options: Partial<NProgressOptions>,\n    delay: number,\n}\nconst ProgressBar = memo(\n    function ProgressBar(\n        props: ProgressBarProps = {\n            color: '#29D',\n            height: '2px',\n            options: nProgress.settings,\n            delay: 0,\n        }\n    ): JSX.Element {\n        nProgress.configure(props.options);\n\n        const pathName = usePathname();\n        const searchParams = useSearchParams();\n\n        useEffect(() => {\n            nProgress.done();\n        }, [pathName, searchParams]);\n\n        const { color, height } = props;\n\n        return (\n            <style>\n                {`\n                      #nprogress {\n                        pointer-events: none;\n                      }\n            \n                      #nprogress .bar {\n                        background: ${color};\n            \n                        position: fixed;\n                        z-index: 1031;\n                        top: 0;\n                        left: 0;\n            \n                        width: 100%;\n                        height: ${height};\n                      }\n            \n                      /* Fancy blur effect */\n                      #nprogress .peg {\n                        display: block;\n                        position: absolute;\n                        right: 0px;\n                        width: 100px;\n                        height: 100%;\n                        box-shadow: 0 0 10px ${color}, 0 0 5px ${color};\n                        opacity: 1.0;\n            \n                        -webkit-transform: rotate(3deg) translate(0px, -4px);\n                            -ms-transform: rotate(3deg) translate(0px, -4px);\n                                transform: rotate(3deg) translate(0px, -4px);\n                      }\n            \n                      /* Remove these to get rid of the spinner */\n                      #nprogress .spinner {\n                        display: block;\n                        position: fixed;\n                        z-index: 1031;\n                        top: 15px;\n                        right: 15px;\n                      }\n            \n                      #nprogress .spinner-icon {\n                        width: 18px;\n                        height: 18px;\n                        box-sizing: border-box;\n            \n                        border: solid 2px transparent;\n                        border-top-color: ${color};\n                        border-left-color: ${color};\n                        border-radius: 50%;\n            \n                        -webkit-animation: nprogress-spinner 400ms linear infinite;\n                                animation: nprogress-spinner 400ms linear infinite;\n                      }\n            \n                      .nprogress-custom-parent {\n                        overflow: hidden;\n                        position: relative;\n                      }\n            \n                      .nprogress-custom-parent #nprogress .spinner,\n                      .nprogress-custom-parent #nprogress .bar {\n                        position: absolute;\n                      }\n            \n                      @-webkit-keyframes nprogress-spinner {\n                        0%   { -webkit-transform: rotate(0deg); }\n                        100% { -webkit-transform: rotate(360deg); }\n                      }\n                      @keyframes nprogress-spinner {\n                        0%   { transform: rotate(0deg); }\n                        100% { transform: rotate(360deg); }\n                      }\n                `}\n            </style>\n        )\n    },\n    () => true\n);\n\nProgressBar.displayName = \"ProgressBar\";\n\nexport default ProgressBar;","import { useRouter as useNextRouter } from \"next/navigation\";\nimport { NavigateOptions } from \"next/dist/shared/lib/app-router-context.shared-runtime\";\nimport nProgress from \"nprogress\";\nimport { shouldTriggerProgressStart } from \"../utils/shouldTriggerEventStart\";\n\nconst useRouter = () => {\n    const router = useNextRouter();\n    \n    const push = (\n        href: string,\n        options?: NavigateOptions\n    ) => {\n        if (shouldTriggerProgressStart(href)) {            \n            nProgress.start();\n        }\n        router.push(href, options);\n    }\n\n    const back = () => {\n        nProgress.start();\n        return router.back();\n    }\n\n    return {\n        ...router,\n        push,\n        back\n    }\n}\n\nexport default useRouter;"],"mappings":";AAEA,OAAOA,MAAc,YACrB,OAAOC,GAAS,YAAAC,MAAgB,QCDhC,SAASC,EAAgBC,EAAkC,CAEvD,IAAMC,EADcD,EAAM,cACC,aAAa,QAAQ,EAChD,OACGC,GAAUA,IAAW,SACtBD,EAAM,SACNA,EAAM,SACNA,EAAM,UACNA,EAAM,QACLA,EAAM,aAAeA,EAAM,YAAY,SAAW,CAEzD,CAEO,IAAME,EAA6B,CACtCC,EACAH,IACU,CACV,IAAMI,EAAU,OAAO,SACjBH,EAAS,IAAI,IAAIE,EAAK,SAAS,EAAG,OAAO,SAAS,IAAI,EAG5D,MAFI,EAAAH,GAASD,EAAgBC,CAAK,GAC9BI,EAAQ,SAAWH,EAAO,QAC1BG,EAAQ,WAAaH,EAAO,UAAYG,EAAQ,SAAWH,EAAO,OAE1E,EDpBA,OAAOI,MAAe,YAItB,SAASC,EAAaC,EAAkB,CACpC,OACIC,EAAA,cAACC,EAAA,CAAU,GAAGF,GACTA,EAAM,QACX,CAER,CAEe,SAARG,EAAsBH,EAAkB,CAC3C,OACIC,EAAA,cAACG,EAAA,CAAS,SACNH,EAAA,cAACF,EAAA,CAAc,GAAGC,EAAO,GAEzBC,EAAA,cAACC,EAAA,CAAU,GAAGF,EAAO,QAChBK,GAAU,CACHC,EAA2BN,EAAM,KAAMK,CAAK,GAAGP,EAAU,MAAM,EAC/DE,EAAM,SAASA,EAAM,QAAQK,CAAK,CAC1C,GAECL,EAAM,QACX,CACJ,CAER,CE/BA,OAAOO,MAAW,QAClB,OAAS,eAAAC,EAAa,mBAAAC,MAAuB,kBAC7C,OAAOC,MAAqC,YAC5C,OAAS,QAAAC,EAAM,aAAAC,MAAiB,QAQhC,IAAMC,EAAcF,EAChB,SACIG,EAA0B,CACtB,MAAO,OACP,OAAQ,MACR,QAASJ,EAAU,SACnB,MAAO,CACX,EACW,CACXA,EAAU,UAAUI,EAAM,OAAO,EAEjC,IAAMC,EAAWP,EAAY,EACvBQ,EAAeP,EAAgB,EAErCG,EAAU,IAAM,CACZF,EAAU,KAAK,CACnB,EAAG,CAACK,EAAUC,CAAY,CAAC,EAE3B,GAAM,CAAE,MAAAC,EAAO,OAAAC,CAAO,EAAIJ,EAE1B,OACIP,EAAA,cAAC,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAMqBU,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAQTC,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAUOD,CAAK,aAAaA,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAuB1BA,CAAK;AAAA,6CACJA,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBA0BtC,CAER,EACA,IAAM,EACV,EAEAJ,EAAY,YAAc,cAE1B,IAAOM,EAAQN,ECpHf,OAAS,aAAaO,MAAqB,kBAE3C,OAAOC,MAAe,YAGtB,IAAMC,EAAY,IAAM,CACpB,IAAMC,EAASC,EAAc,EAiB7B,MAAO,CACH,GAAGD,EACH,KAjBS,CACTE,EACAC,IACC,CACGC,EAA2BF,CAAI,GAC/BG,EAAU,MAAM,EAEpBL,EAAO,KAAKE,EAAMC,CAAO,CAC7B,EAUI,KARS,KACTE,EAAU,MAAM,EACTL,EAAO,KAAK,EAOvB,CACJ,EAEOM,EAAQP","names":["NextLink","React","Suspense","isModifiedEvent","event","target","shouldTriggerProgressStart","href","current","nProgress","LinkFallback","props","React","NextLink","Link","Suspense","event","shouldTriggerProgressStart","React","usePathname","useSearchParams","nProgress","memo","useEffect","ProgressBar","props","pathName","searchParams","color","height","ProgressBar_default","useNextRouter","nProgress","useRouter","router","useNextRouter","href","options","shouldTriggerProgressStart","nProgress","useRouter_default"]}