{"version":3,"sources":["../src/index.ts","../src/components/Link.tsx","../src/utils/shouldTriggerEventStart.ts","../src/components/ProgressBar.tsx","../src/hooks/useRouter.ts"],"sourcesContent":["import Link from \"./components/Link\";\nimport ProgressBar from \"./components/ProgressBar\";\nimport useRouter from \"./hooks/useRouter\";\n\nexport { Link, ProgressBar, useRouter };","'use client';\nimport { LinkProps as NextLinkProps } from 'next/link';\nimport NextLink from 'next/link';\nimport React, { Suspense } from 'react';\nimport { shouldTriggerProgressStart } from '../utils/shouldTriggerEventStart';\nimport nProgress from 'nprogress';\n\ntype LinkProps = NextLinkProps & { children: React.ReactNode } & React.RefAttributes<HTMLAnchorElement> & React.AnchorHTMLAttributes<HTMLAnchorElement>;\n\nfunction LinkFallback(props: LinkProps) {\n    return (\n        <NextLink {...props}>\n            {props.children}\n        </NextLink>\n    )\n}\n\nexport default function Link(props: LinkProps) {\n    return (\n        <Suspense fallback={\n            <LinkFallback {...props} />\n        }>\n            <NextLink {...props} onClick={\n                (event) => {\n                    if (shouldTriggerProgressStart(props.href, event)) nProgress.start();\n                    if (props.onClick) props.onClick(event);\n                }\n            }>\n                {props.children}\n            </NextLink>\n        </Suspense>\n    )\n};","import { UrlObject } from \"url\";\n\nfunction isModifiedEvent(event: React.MouseEvent): boolean {\n    const eventTarget = event.currentTarget as HTMLAnchorElement | SVGAElement;\n    const target = eventTarget.getAttribute(\"target\");\n    return (\n      (target && target !== \"_self\") ||\n      event.metaKey ||\n      event.ctrlKey ||\n      event.shiftKey ||\n      event.altKey || // triggers resource download\n      (event.nativeEvent && event.nativeEvent.button === 1)\n    );\n}\n\nexport const shouldTriggerProgressStart = (\n    href: string | UrlObject,\n    event?: React.MouseEvent<HTMLAnchorElement, MouseEvent>\n): boolean => {\n    const current = window.location;\n    const target = new URL(href.toString(), window.location.href);\n    if (event && isModifiedEvent(event)) return false;\n    if (current.origin !== target.origin) return false;\n    if (current.pathname === target.pathname && current.search === target.search) return false;\n    return true;\n};","'use client';\nimport React from \"react\";\nimport { usePathname, useSearchParams } from \"next/navigation\";\nimport nProgress, { NProgressOptions } from \"nprogress\";\nimport { memo, useEffect } from \"react\";\n\ntype ProgressBarProps = {\n    color: string;\n    height: string,\n    options: Partial<NProgressOptions>,\n    delay: number,\n}\nconst ProgressBar = memo(\n    function ProgressBar(\n        props: ProgressBarProps = {\n            color: '#29D',\n            height: '2px',\n            options: nProgress.settings,\n            delay: 0,\n        }\n    ): JSX.Element {\n        nProgress.configure(props.options);\n\n        const pathName = usePathname();\n        const searchParams = useSearchParams();\n\n        useEffect(() => {\n            nProgress.done();\n        }, [pathName, searchParams]);\n\n        const { color, height } = props;\n\n        return (\n            <style>\n                {`\n                      #nprogress {\n                        pointer-events: none;\n                      }\n            \n                      #nprogress .bar {\n                        background: ${color};\n            \n                        position: fixed;\n                        z-index: 1031;\n                        top: 0;\n                        left: 0;\n            \n                        width: 100%;\n                        height: ${height};\n                      }\n            \n                      /* Fancy blur effect */\n                      #nprogress .peg {\n                        display: block;\n                        position: absolute;\n                        right: 0px;\n                        width: 100px;\n                        height: 100%;\n                        box-shadow: 0 0 10px ${color}, 0 0 5px ${color};\n                        opacity: 1.0;\n            \n                        -webkit-transform: rotate(3deg) translate(0px, -4px);\n                            -ms-transform: rotate(3deg) translate(0px, -4px);\n                                transform: rotate(3deg) translate(0px, -4px);\n                      }\n            \n                      /* Remove these to get rid of the spinner */\n                      #nprogress .spinner {\n                        display: block;\n                        position: fixed;\n                        z-index: 1031;\n                        top: 15px;\n                        right: 15px;\n                      }\n            \n                      #nprogress .spinner-icon {\n                        width: 18px;\n                        height: 18px;\n                        box-sizing: border-box;\n            \n                        border: solid 2px transparent;\n                        border-top-color: ${color};\n                        border-left-color: ${color};\n                        border-radius: 50%;\n            \n                        -webkit-animation: nprogress-spinner 400ms linear infinite;\n                                animation: nprogress-spinner 400ms linear infinite;\n                      }\n            \n                      .nprogress-custom-parent {\n                        overflow: hidden;\n                        position: relative;\n                      }\n            \n                      .nprogress-custom-parent #nprogress .spinner,\n                      .nprogress-custom-parent #nprogress .bar {\n                        position: absolute;\n                      }\n            \n                      @-webkit-keyframes nprogress-spinner {\n                        0%   { -webkit-transform: rotate(0deg); }\n                        100% { -webkit-transform: rotate(360deg); }\n                      }\n                      @keyframes nprogress-spinner {\n                        0%   { transform: rotate(0deg); }\n                        100% { transform: rotate(360deg); }\n                      }\n                `}\n            </style>\n        )\n    },\n    () => true\n);\n\nProgressBar.displayName = \"ProgressBar\";\n\nexport default ProgressBar;","import { useRouter as useNextRouter } from \"next/navigation\";\nimport { NavigateOptions } from \"next/dist/shared/lib/app-router-context.shared-runtime\";\nimport nProgress from \"nprogress\";\nimport { shouldTriggerProgressStart } from \"../utils/shouldTriggerEventStart\";\n\nconst useRouter = () => {\n    const router = useNextRouter();\n    \n    const push = (\n        href: string,\n        options?: NavigateOptions\n    ) => {\n        if (shouldTriggerProgressStart(href)) {            \n            nProgress.start();\n        }\n        router.push(href, options);\n    }\n\n    const back = () => {\n        nProgress.start();\n        return router.back();\n    }\n\n    return {\n        ...router,\n        push,\n        back\n    }\n}\n\nexport default useRouter;"],"mappings":"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","names":["src_exports","__export","Link","ProgressBar_default","useRouter_default","__toCommonJS","import_link","import_react","isModifiedEvent","event","target","shouldTriggerProgressStart","href","current","import_nprogress","LinkFallback","props","React","NextLink","Link","event","shouldTriggerProgressStart","nProgress","import_react","import_navigation","import_nprogress","ProgressBar","props","nProgress","pathName","searchParams","color","height","React","ProgressBar_default","import_navigation","import_nprogress","useRouter","router","useNextRouter","href","options","shouldTriggerProgressStart","nProgress","useRouter_default"]}